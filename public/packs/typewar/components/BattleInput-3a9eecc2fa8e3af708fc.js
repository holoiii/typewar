!function(e){function t(r){if(s[r])return s[r].exports;var n=s[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var s={};t.m=e,t.c=s,t.i=function(e){return e},t.d=function(e,s,r){t.o(e,s)||Object.defineProperty(e,s,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var s=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(s,"a",s),s},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=46)}({16:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s.d(t,"CMD_CHANGE_STANCE",function(){return r}),s.d(t,"COMMANDS",function(){return n});var r="change stance",n={tab:r}},46:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(16);Crafty.c("BattleInput",{init:function(){this._inputQueue=[],this.is_shift_key_down=!1},battleInput:function(){return this._attachKeyboardHandler(),this},clearInputQueue:function(){this._inputQueue=[]},getInputQueue:function(){return this._inputQueue},remove:function(e){this._detachKeyboardHandler()},_attachKeyboardHandler:function(){this.bind("KeyDown",this._handleKeyPress),this.bind("KeyUp",this._handleKeyRelease),this._handleBrowserKeyOverrides()},_detachKeyboardHandler:function(){this.unbind("KeyDown",this._handleKeyPress),this.unbind("KeyUp",this._handleKeyRelease),this._unbindBrowserKeyOverrides()},_handleBrowserKeyOverrides:function(){this._preventBackspaceNavigation(),this._preventTabFieldSwitch(),this._preventSpacebarScroll()},_handleKeyPress:function(e){var t;if(!Crafty.isPaused()){if(t=this._translateKeyToLetter(e.key),this._isModifierKey(t))return this._handleModifierKeyPressed(t);this._inputQueue.push(t)}},_handleKeyRelease:function(e){var t;Crafty.isPaused()||(t=this._translateKeyToLetter(e.key),this._isModifierKey(t)&&this._handleModifierKeyReleased(t))},_handleModifierKeyPressed:function(e){switch(e){case"shift":this.is_shift_key_down=!0;default:return!1}},_handleModifierKeyReleased:function(e){switch(e){case"shift":this.is_shift_key_down=!1;default:return!1}},_isModifierKey:function(e){switch(e){case"shift":return!0;default:return!1}},_preventBackspaceNavigation:function(){$(document).on("keydown",function(e){8!==e.which||$(e.target).is("input, textarea")||e.preventDefault()})},_preventTabFieldSwitch:function(){$(document).on("keydown",function(e){9!==e.which||$(e.target).is("input, textarea")||e.preventDefault()})},_preventSpacebarScroll:function(){$(document).on("keydown",function(e){32!==e.which||$(e.target).is("input, textarea")||e.preventDefault()})},_translateKeyToLetter:function(e){switch(e){case Crafty.keys.BACKSPACE:return"";case Crafty.keys.TAB:return r.COMMANDS.tab;case Crafty.keys.ENTER:return"";case Crafty.keys.SPACE:return" ";case Crafty.keys[0]:return"0";case Crafty.keys[1]:return this.is_shift_key_down?"!":"1";case Crafty.keys[2]:return"2";case Crafty.keys[3]:return"3";case Crafty.keys[4]:return"4";case Crafty.keys[5]:return"5";case Crafty.keys[6]:return"6";case Crafty.keys[7]:return"7";case Crafty.keys[8]:return"8";case Crafty.keys[9]:return"9";case Crafty.keys.A:return this.is_shift_key_down?"A":"a";case Crafty.keys.B:return this.is_shift_key_down?"B":"b";case Crafty.keys.C:return this.is_shift_key_down?"C":"c";case Crafty.keys.D:return this.is_shift_key_down?"D":"d";case Crafty.keys.E:return this.is_shift_key_down?"E":"e";case Crafty.keys.F:return this.is_shift_key_down?"F":"f";case Crafty.keys.G:return this.is_shift_key_down?"G":"g";case Crafty.keys.H:return this.is_shift_key_down?"H":"h";case Crafty.keys.I:return this.is_shift_key_down?"I":"i";case Crafty.keys.J:return this.is_shift_key_down?"J":"j";case Crafty.keys.K:return this.is_shift_key_down?"K":"k";case Crafty.keys.L:return this.is_shift_key_down?"L":"l";case Crafty.keys.M:return this.is_shift_key_down?"M":"m";case Crafty.keys.N:return this.is_shift_key_down?"N":"n";case Crafty.keys.O:return this.is_shift_key_down?"O":"o";case Crafty.keys.P:return this.is_shift_key_down?"P":"p";case Crafty.keys.Q:return this.is_shift_key_down?"Q":"q";case Crafty.keys.R:return this.is_shift_key_down?"R":"r";case Crafty.keys.S:return this.is_shift_key_down?"S":"s";case Crafty.keys.T:return this.is_shift_key_down?"T":"t";case Crafty.keys.U:return this.is_shift_key_down?"U":"u";case Crafty.keys.V:return this.is_shift_key_down?"V":"v";case Crafty.keys.W:return this.is_shift_key_down?"W":"w";case Crafty.keys.X:return this.is_shift_key_down?"X":"x";case Crafty.keys.Y:return this.is_shift_key_down?"Y":"y";case Crafty.keys.Z:return this.is_shift_key_down?"Z":"z";case Crafty.keys.DECIMAL:return".";case Crafty.keys.SHIFT:return"shift";case Crafty.keys.COMMA:return",";case Crafty.keys.MINUS:return"-";case 186:return this.is_shift_key_down?":":";";case 190:return".";case 191:return"?";case 222:return"'";default:return""}},_unbindBrowserKeyOverrides:function(){$(document).off("keydown")}})}});