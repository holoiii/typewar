# Typewar

Typewar is a typing-based browser RPG, inspired by typeracer.

Some upcoming features:

* Spells
* Weapons/Items
* Leveling system
* PVP
* PVE
* Combo moves
* Multiple character classes
* Dungeons

---

# DEV NOTES

## Design Ideas/Brainstorm
As the opponent gets hits on you, they advance closer to you. When they get 
too close, they can do a stronger attack. Also you get less time to type the
next string of text.

Combos happen as part of the battle flow. The engine will select a set of text
and they will be fired at the player in rapid succession (adjusted for the
player's typing speed/ability). If the player can type each block in the
sequence successfully, each completed block will perform another hit in the
combo and advance the player closer to the enemy. The combo finishes at the end
right in front of the opponent with a larger attack that does more dmg (a 
special or super). Similarly, opponents can initiate and execute combos. For
each attack in sequence, player must type the words correctly to defend against
them. Player may still take damage from successful defense, but reduced. High
armor/def can protect from damage or maybe certain passive skills block 
defended damages entirely. With each attack in the sequence, the enemy moves
closer to the player, giving less time to react to the text fragment. This
ramps up the difficulty of defending successfully from the entire sequence.
Combos should be challenging to pull off and difficult to defend against fully.

Combos play out differently for ranged vs melee attackers.

A certain skill could allow the player to preview a text fragment before it's
fired. Separate skills that allow preview for attack vs defense. This will
allow the player to prepare which works well for close combat and combos.

Text fragments fly at the player not unlike song chords in beatmania/ddr/et al
typing the fragment correctly should reduce it to an icon that continues on 
it's path. When the icon reaches the player, the motion and calculations get
executed. For example: A slime throws an attack fragment at the player. The
player types it. The fragment text collapses and what remains is a slime ball
(representing the slime's attack) continues flying towards the player at the
same trajectory as the original text fragment box. Once it reaches the player,
because the player typed it correctly, the player avatar does a block animation
and receives no damage (or slight damage if the enemy is much stronger.. etc).

Make monsters have a progress bar that fills up when they are preparing to 
attack. The player should have a similar bar, perhaps allowing the player to
attack without fully charging it (to make weaker but faster attacks).
Once the monster's bar fills up, they 'cast' a text fragment.

To add variety to the enemies attack, fragments could have acceleration rather
than a flat speed. They could also have deceleration, so the player might think
to target one first only to be fooled into wasting time when it might take
longer overall

Text fragments could be wrapped around objects that in a more broader sense,
represent attacks. They could have a type (physical, magic, electrical, acid)
have properties (piercing, crushing, burning, etc), have a damage value and
other attributes. 

Text fragment positionFunc needs to be able to handle a speed multiplier
so that the speed of the motion is adjustable based on player skill.

Vocabulary selection is a nontrivial problem.  Need to be able to choose
an item from the creature's vocabulary which is appropriate for the attack.
Fast attacks should have short words, some may even have single letters.
Slow powerful attacks might be sentences. Perhaps they're not even meant to
be fully typed but only partially blocked?  They would need to scale 
appropriately such that the travel time corresponds with player typing ability

Can the position func be generated by me drawing a line? Can a line be 
recorded and played back as a math function? Can a vector represent a
position func?

Need to rethink the loading of scene data.  This should probably come entirely
from server side.  The scene graph should live server side.  On the other hand
this makes me question the relationship between client and server here.  Any 
changes made server side will likely require changes client side and vice 
versa.  There needs to be as few dependencies between them as possible.  
Perhaps then, I should consider moving everything client side.  Is there really
a benefit to doing anything server side?  I could just store score data and
typing data.  Maybe what I'm doing is fine.  Player data should be stored on
the server so it could be saved and loaded etc.  

Ohh, what I should do is encapsulate every communication with the server such 
that those operations can be replaced client side.  For example: saving the
player character hits the server with updated stats/etc but as a mobile app
the player is serialized locally.  Will need to think about how to implement
this.

The tutorial should be a typing tutor. Introducing players fight by fight to
learning how to type using increasing amounts of letters.  OOh.. dungeons 
have monsters of a given set of letters.  Each monster has a limited vocabulary
simple ones like slimes and rats could be 1-3 letters or of words consisting of
'easy' letters (home row etc).
Could progress from home row adding letters until they can do the whole alphabet
pretty much like mavis beacon's progression.

